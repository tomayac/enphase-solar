<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="color-scheme" content="dark light" />
    <link rel="icon" href="/icon.png" />
    <link rel="manifest" href="/src/client/manifest.webmanifest" />
    <title>Solar Live Status</title>
    <script>
      if ('serviceWorker' in navigator) {
        window.addEventListener('load', async () => {
          try {
            const registration =
              await navigator.serviceWorker.register('/src/client/sw.js');
            console.log(
              'Service worker registered for scope',
              registration.scope,
            );
          } catch (error) {
            console.error(
              'Service worker registration failed.',
              error.name,
              error.message,
            );
          }
        });
      }
    </script>
    <script type="module" src="/src/client/script.js"></script>
  </head>

  <body>
    <main>
      <section class="live-container">
        <div class="live-section">
          <h1>
            Solar Status <span class="led led-red"></span
            ><span class="led led-green"></span>
          </h1>
          <div class="container">
            <div class="producing">
              <div class="producing-top-row">
                <svg
                  class="producing-icon"
                  xmlns="http://www.w3.org/2000/svg"
                  width="48"
                  height="48"
                >
                  <g fill="none" stroke="#01b4de" stroke-width="1.5">
                    <circle cx="24" cy="24" r="24" stroke="none"></circle>
                    <circle cx="24" cy="24" r="23.25"></circle>
                  </g>
                  <g fill="rgba(0,0,0,0)" stroke="#01b4de" stroke-width="1.5">
                    <path
                      d="M24 30.24A6.24 6.24 0 1 0 17.76 24 6.24 6.24 0 0 0 24 30.24Z"
                      data-name="Path 12530"
                    ></path>
                    <path
                      stroke-linecap="round"
                      d="M24 11.521v2.5"
                      data-name="Path 12531"
                    ></path>
                    <path
                      stroke-linecap="round"
                      d="M24 33.984v2.5"
                      data-name="Path 12532"
                    ></path>
                    <path
                      stroke-linecap="round"
                      d="m32.823 15.177-1.76 1.76"
                      data-name="Path 12533"
                    ></path>
                    <path
                      stroke-linecap="round"
                      d="m16.937 31.064-1.76 1.76"
                      data-name="Path 12534"
                    ></path>
                    <path
                      stroke-linecap="round"
                      d="M36.48 24h-2.5"
                      data-name="Path 12535"
                    ></path>
                    <path
                      stroke-linecap="round"
                      d="M14.015 24h-2.5"
                      data-name="Path 12536"
                    ></path>
                    <path
                      stroke-linecap="round"
                      d="m32.823 32.823-1.76-1.76"
                      data-name="Path 12537"
                    ></path>
                    <path
                      stroke-linecap="round"
                      d="m16.937 16.937-1.76-1.76"
                      data-name="Path 12538"
                    ></path>
                  </g>
                </svg>
                <div
                  class="producing-chart"
                  title="Roof: 0 W, Wall: 0 W, Fence: 0 W"
                ></div>
                <div class="producing-legend">
                  <div class="legend-item">
                    <span class="legend-color roof"></span>
                    <span class="legend-label">Roof</span>
                    <span class="legend-value roof-value">0 W</span>
                  </div>
                  <div class="legend-item">
                    <span class="legend-color wall"></span>
                    <span class="legend-label">Wall</span>
                    <span class="legend-value wall-value">0 W</span>
                  </div>
                  <div class="legend-item">
                    <span class="legend-color fence"></span>
                    <span class="legend-label">Fence</span>
                    <span class="legend-value fence-value">0 W</span>
                  </div>
                </div>
              </div>

              <p class="producing-value">0.000 kW</p>
              <h2>Producing</h2>
              <div class="sparkline-container">
                <p class="sparkline-label">Last 5 minutes</p>
                <svg
                  class="sparkline producing-sparkline"
                  width="100"
                  height="30"
                  stroke-width="3"
                ></svg>
              </div>
            </div>

            <div class="net">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="48"
                height="48"
                fill="none"
              >
                <g clip-path="url(#a)">
                  <path
                    d="M24 48c13.255 0 24-10.745 24-24S37.255 0 24 0 0 10.745 0 24s10.745 24 24 24Z"
                  ></path>
                  <path
                    stroke="#6B7073"
                    stroke-miterlimit="10"
                    stroke-width="1.5"
                    d="M24 47.25c12.84 0 23.25-10.41 23.25-23.25S36.84.75 24 .75.75 11.16.75 24 11.16 47.25 24 47.25Z"
                  ></path>
                  <path
                    stroke="#6B7073"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="1.5"
                    d="m18.042 24.293 13.933 13.494L24.642 10.8h-2.934l-7.333 26.987 13.933-13.494M34.321 21.36h-21.12M30.802 16.666H15.549"
                  ></path>
                </g>
                <defs>
                  <clipPath id="a">
                    <path fill="#fff" d="M0 0h48v48H0z"></path>
                  </clipPath>
                </defs>
              </svg>
              <p class="net-value">0.000 kW</p>
              <h2 class="exporting-or-importing">Exporting</h2>
              <div class="sparkline-container">
                <p class="sparkline-label">Last 5 minutes</p>
                <svg
                  class="sparkline importing-sparkline"
                  width="100"
                  height="30"
                  stroke-width="3"
                ></svg>
                <svg
                  class="sparkline exporting-sparkline"
                  width="100"
                  height="30"
                  stroke-width="3"
                ></svg>
              </div>
            </div>

            <div class="producing-grid-animation">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                preserveAspectRatio="xMidYMid meet"
                style="max-width: 100%; height: auto; visibility: visible"
                width="100"
                height="92"
                viewBox="0 0 100 92"
              >
                <g
                  id="PV_to_Grid"
                  data-name="PV to Grid"
                  transform="translate(-172 -207)"
                >
                  <rect
                    id="bg"
                    width="100"
                    height="92"
                    transform="translate(272 299) rotate(180)"
                    fill="none"
                    opacity="0.995"
                  ></rect>
                  <path
                    id="motion-path-solar-grid"
                    data-name="Path 20549"
                    d="M93,0V75A12,12,0,0,1,81,87H0"
                    transform="translate(174 207)"
                    fill="none"
                    stroke="#01b4de"
                    stroke-width="1"
                  ></path>
                  <path
                    id="Arrow_head"
                    d="M4,4.326a.461.461,0,0,1-.089.273L.482,8.624a.243.243,0,0,1-.312.068A.379.379,0,0,1,0,8.363v-8A.359.359,0,0,1,.17.031.254.254,0,0,1,.483.088L3.911,4.064A.423.423,0,0,1,4,4.326Z"
                    transform="translate(176 298.361) rotate(180)"
                    fill="#01b4de"
                  ></path>
                  <g
                    id="pointer-solar-grid"
                    transform="translate(179 212) rotate(180)"
                  >
                    <circle
                      id="Oval_Copy_8"
                      cx="5"
                      cy="5"
                      r="5"
                      fill="#01b4de"
                      opacity="0.2"
                    ></circle>
                    <circle
                      id="Oval_Copy_9"
                      cx="2"
                      cy="2"
                      r="2"
                      transform="translate(3 3)"
                      fill="#01b4de"
                    ></circle>
                  </g>
                </g>
                <animateMotion
                  xlink:href="#pointer-solar-grid"
                  dur="3s"
                  begin="0s"
                  fill="freeze"
                  repeatCount="indefinite"
                >
                  <mpath xlink:href="#motion-path-solar-grid"></mpath>
                </animateMotion>
              </svg>
            </div>

            <div class="producing-consuming-animation">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                preserveAspectRatio="xMidYMid meet"
                style="max-width: 100%; height: auto; visibility: visible"
                width="100"
                height="92"
                viewBox="0 0 100 92"
              >
                <g
                  id="PV_to_Con"
                  data-name="PV to Con"
                  transform="translate(-239 -238)"
                >
                  <rect
                    id="Rectangle_6993"
                    data-name="Rectangle 6993"
                    width="99.999"
                    height="92"
                    transform="translate(338.999 330) rotate(180)"
                    fill="none"
                    opacity="0.995"
                  ></rect>
                  <path
                    id="motion-path-solar-home"
                    data-name="Path 20550"
                    d="M0,0V75A12,12,0,0,0,12,87H93"
                    transform="translate(244 238)"
                    fill="none"
                    stroke="#01b4de"
                    stroke-width="1"
                  ></path>
                  <g
                    id="pointer-solar-home"
                    transform="translate(249 243) rotate(180)"
                  >
                    <circle
                      id="Oval_Copy_8"
                      cx="5"
                      cy="5"
                      r="5"
                      fill="#01b4de"
                      opacity="0.2"
                    ></circle>
                    <circle
                      id="Oval_Copy_9"
                      cx="2"
                      cy="2"
                      r="2"
                      transform="translate(3 3)"
                      fill="#01b4de"
                    ></circle>
                  </g>
                  <path
                    id="Arrow_head"
                    d="M4,4.031a.4.4,0,0,0-.089-.25L.482.09A.258.258,0,0,0,.17.028.34.34,0,0,0,0,.33V7.669a.323.323,0,0,0,.17.3.27.27,0,0,0,.313-.052L3.911,4.271A.368.368,0,0,0,4,4.031Z"
                    transform="translate(335 321.002)"
                    fill="#01b4de"
                  ></path>
                </g>
                <animateMotion
                  xlink:href="#pointer-solar-home"
                  dur="3s"
                  begin="0s"
                  fill="freeze"
                  repeatCount="indefinite"
                >
                  <mpath xlink:href="#motion-path-solar-home"></mpath>
                </animateMotion>
              </svg>
            </div>

            <div class="consuming">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="48"
                height="48"
                viewBox="0 0 40 40"
              >
                <g data-name="Group 11786">
                  <g
                    fill="none"
                    stroke="#f37320"
                    stroke-width="1.3"
                    data-name="Oval Copy 2"
                  >
                    <circle cx="20" cy="20" r="20" stroke="none"></circle>
                    <circle cx="20" cy="20" r="19.35"></circle>
                  </g>
                  <path
                    fill="#f37320"
                    stroke="#f37320"
                    stroke-linecap="round"
                    stroke-width=".3"
                    d="M13.65 29.298a.523.523 0 0 1-.524-.523v-8.554h-2.198a.524.524 0 0 1-.37-.894l9.075-9.076a.523.523 0 0 1 .74 0l9.076 9.076a.524.524 0 0 1-.37.894h-2.2v8.553a.523.523 0 0 1-.524.523Zm12.182-1.047v-8.553a.523.523 0 0 1 .523-.524h1.459l-7.81-7.812-7.812 7.812h1.458a.523.523 0 0 1 .524.524v8.552h2.489v-6.284a.524.524 0 0 1 .524-.524h2.63a.524.524 0 0 1 .523.524v6.283Zm-4.539 0v-5.76h-2.582v5.76Z"
                    data-name="home stroke"
                  ></path>
                </g>
              </svg>
              <p class="consuming-value">0.000 kW</p>
              <h2>Consuming</h2>
              <div class="sparkline-container">
                <p class="sparkline-label">Last 5 minutes</p>
                <svg
                  class="sparkline consuming-sparkline"
                  width="100"
                  height="30"
                  stroke-width="3"
                ></svg>
              </div>
            </div>

            <div class="grid-consuming-animation">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                preserveAspectRatio="xMidYMid meet"
                style="max-width: 100%; height: auto; visibility: hidden"
                width="213"
                height="12"
                viewBox="0 0 213 12"
              >
                <g
                  id="Grid_to_consumption"
                  data-name="Grid to consumption"
                  transform="translate(7.001 -0.5)"
                >
                  <rect
                    id="container"
                    width="213"
                    height="12"
                    transform="translate(-7 0.5)"
                    fill="rgba(255,83,83,0.11)"
                    opacity="0"
                  ></rect>
                  <g id="G_C" data-name="G>C" transform="translate(11 2.5)">
                    <path
                      id="motion-path-grid-home"
                      data-name="arrow body"
                      d="M57,1,267,.5"
                      transform="translate(-75 3.499)"
                      fill="none"
                      stroke="#6b7073"
                      stroke-width="1"
                    ></path>
                    <path
                      id="Arrow_head"
                      data-name="Arrow head"
                      d="M4,3.969a.4.4,0,0,1-.089.25L.482,7.91a.258.258,0,0,1-.313.063A.34.34,0,0,1,0,7.67V.331a.323.323,0,0,1,.17-.3A.27.27,0,0,1,.482.081L3.911,3.729A.368.368,0,0,1,4,3.969Z"
                      transform="translate(191 0)"
                      fill="#6b7073"
                    ></path>
                  </g>
                  <g id="pointer-grid-home" transform="translate(-64 1)">
                    <circle
                      id="Oval_Copy_12"
                      data-name="Oval Copy 12"
                      cx="5"
                      cy="5"
                      r="5"
                      fill="#6b7073"
                      opacity="0.2"
                    ></circle>
                    <circle
                      id="Oval_Copy_13"
                      data-name="Oval Copy 13"
                      cx="2"
                      cy="2"
                      r="2"
                      transform="translate(3 3)"
                      fill="#6b7073"
                    ></circle>
                  </g>
                </g>
                <animateMotion
                  xlink:href="#pointer-grid-home"
                  dur="3s"
                  begin="0s"
                  fill="freeze"
                  repeatCount="indefinite"
                >
                  <mpath xlink:href="#motion-path-grid-home"></mpath>
                </animateMotion>
              </svg>
            </div>
          </div>
        </div>
      </section>
    </main>
    <div>
      <button hidden type="button" class="weblight-button">
        Connect WebLight
      </button>
      <button hidden type="button" class="pip-button">
        Picture-in-Picture
      </button>
    </div>
  </body>
</html>
